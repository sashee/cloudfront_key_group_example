<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="876px" preserveAspectRatio="none" style="width:829px;height:876px;" version="1.1" viewBox="0 0 829 876" width="829px" zoomAndPan="magnify"><defs><filter height="300%" id="f1weawhsmhc0jm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[bd06d85a698853f9e202efd996ccdbeb]
cluster Protected content--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="214" style="stroke:#000000;stroke-width:1.5;" width="345" x="51" y="650"/><path d="M210,650 L210,659.2969 L200,669.2969 L51,669.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="149" x="54" y="663.9951">Protected content</text><!--MD5=[664235f8373ee1d56a6a5ea008829e99]
cluster CloudFront--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="342.5" style="stroke:#000000;stroke-width:1.5;" width="420" x="7" y="260.5"/><path d="M106,260.5 L106,269.7969 L96,279.7969 L7,279.7969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="10" y="274.4951">CloudFront</text><!--MD5=[ef20b3fe45c502f37db21f37a527870c]
cluster Signer--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="388" style="stroke:#000000;stroke-width:1.5;" width="366" x="451" y="7"/><path d="M512,7 L512,16.2969 L502,26.2969 L451,26.2969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="454" y="20.9951">Signer</text><!--MD5=[e987a9053741ca611bbb00ccd0372f5a]
entity bucket--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="163.1563" style="stroke:#FF9900;stroke-width:1.5;" width="163" x="67.5" y="685"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="143" x="77.5" y="706.1387">«S3BucketwithObjects»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="134" x="82" y="723.8203">Private bucket</text><image height="64" width="64" x="117" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAFHklEQVR4XtVau47UQBDkw/kD7gf8Axb5ShBuhEhOIkFCGyERHCFCDgiHlktb29OPmbF9e6crdXBnz6OrX9P2+l1543hnLxzG8u+vFzvo+bCTgOj09OfX5ff3849Pp28f56+TyHT+IPLw+b0X3JIxMlimPP78InNlBbvudmwgIPvJxqJBpuUOASuhJHz2OapPQJZuKw0lYF0Y2Atutb0kIgPERps8kxIQe8jGfjPaDDvtMBuyQuzS8KdsIQPszAgBAVld1vUritL7NO4CfDwZ+VdI2tE1LAFZSK+CJe6hdAaxkWEitmsoUBEQXfW0QSfeAyaA5Y+Mw42AUKf2Xce9DHQwi0Ht7RU3AjICQ1/R8CHIIVTsRgD+yoi+IhgaElT23tvyQBjYNwK6dArXLGleEmJKmlUkPOBuBERpDoUIpXDOvSG2E2Nr1SGhTW8EhK6ZAJHcONKrjIO9ltcBatgJK4IyKquIZCe8bIBe8iCfpe5nw+0QAnBFVl1uBGRFTGOyh8e7EbRG6NXQt4GeFrnCfu50ben8UpR5beloIAyWiVRVozqJs6H3aKS10Aresd6sBhWBtrMAuB5Gna/PMV6nTKCrDsV2g6gD295bURFAAmXp0sCinh4R2RToR7Eze2BpyephRYCVdMdOdwL7yyEC3dEvD1bVzKYVAfrrcrib2BcwHkjLRlRXBJjyWcYMgq28bH/QmVzH3rgiJuArqQdy1F6tnyvae3cxok9FoAwwBhrZ4nuqkOcIujW0eALdmCvKMCFVJpKWedcD6khOWgLdrC914/0QmQdW8DJtfEXQ8DNhCXBOtg2tMl1fUU3RE/dlbYFk46f1LYOhMfi8wWjcQKDrNTYOaCjwdyPJgCV6TYbmxw5VIHO4zt5eYQm088ZrzGhpGIlY1icVQ2Oue08NE4pz9ILIEmCC+u5PbvmYIWGfzQ1c6mdFiHcItyNn+cNYyhIoeVNNhxrnZNe78OkBFc/Xd5i4goTR4aT9EBCAbYxFmRuhpb1nxoG48g6h1WkX5rQ2bkAAXKf6KOByp7WPN8Ltvd/GIVb3iQ5N5vXVMglo3QICvqkOz6ZMuk5AbUWQ2HsrMiaUjgdYapgu8kdjOS3tKPIl6JS/uWHQn9QvI8iQTg6wsJiasLif7rzo8Rpyy0c5OYenAcabSPYICCx5Jd0Naj+tRxLOaU3J+wG+CmuGRkwAk49kpIauYMZLDFez17gRAwJlmP0gaOkwxsK77YZAIybQjj+WkUzM+LY/w+4rvBgiJsAK4G3mn1e8aA7dYAiN7SthhphAY74//L0Yv7cDMjS2P4syxATCRQGe05f1pZUW0jazyNmboyQ50I5hjZhA6FYgbDQAzjIEaI7J9ZJhe1OSfixETKARuDsIlDrwTms3pZuFyZ3f7bzXiAmUfIl9BEqePN4tDfN5pAQyJ+4mUNxzzOQaG6C7jkZKIFM0u16GN156jVOjBnqkBLJCdpxAF9nWIVICLB3GDAzl0/UnIwrD4yCBho08UgKZObNc1HKQQJZ+IVICWSlAIk7Xxwsvs2s5t2JKCmCIlIAABAYt8Vxg6I7U0NImwGiZd72a3YplfXu3NQ5bBJb6OXDe/kXeCJboe7NB85c2AcD3z7LTSf1evzXiF/UbvTYQFx+0PdAnUHrvOZi7KKZn983luf441q8AgYft3j0MESDApK3HJqEzt7qR2EZAA2HwuH6CQOtmxLSXztfvKXYrrbGfQAa2OlrsoOfD8xN4YfwHH7zsDyglyvsAAAAASUVORK5CYII=" y="727.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="10" x="144" y="802.7324">[]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="151" y="818.5576"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="151" y="834.8545"/><!--MD5=[273e589e96eb4ed14d68b1560ad56a24]
entity secret_txt--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="163.1563" style="stroke:#FF9900;stroke-width:1.5;" width="114" x="266" y="685"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="288.5" y="706.1387">«S3Object»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="94" x="276" y="723.8203">secret.txt</text><image height="64" width="64" x="291" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAACWUlEQVR4Xu2av07EMAzG78F5A3iBewHEjgTjTYjlJBYkdBMSA4wIdWAMnxRhGSdNnDZNzqU/dYAmdfw5jq9/snPG2ckT1tgE9GYTEDB8f71/vh1fH8SBk2iSvWdTRwA8g4u3Tzf7w+XV/UXiQAd0Q+daYuYKOH08Xz/uQ0c1By7E5dJiIdMFYOww3vDp8HKHJiSMzxmfUThwEk2hWhiZI2OKAHgj/EBWwAllVqAbOuMSoRxmZVcFxQIQRT4w/lX6HYILQ2uyU44CARiPhw1/T3adM9OsVgCMUtrMzNoofEVhIL0GlQCYm2a9CBEj5Sh5Adwu5lc214bSSRmpvACy2MB7T9GIGQFUJRAP2bYkNOfZupQSgMJcmpG14Ksu/fuQEkBhqF5zNGBQzeSPCqDrNYm4ELQYEhEcFUAz2Dh5OBiacli2/RIXQOHPrqGloSoyNglxAZT9HcPvoUkYWwkRAXRNx+zn0EqIRjMiAI9L6VlrDOUzHJNtUQFpxe1JZ0REgK8/YznXBb8mo7VICiC53esPh2pRmBRSAN0+nMkC8NAyCG8rpIBE144kwioFUAkKJ6sjlNhhIdoENOE/CTC/iBNdO5IIqxRg/ofMWb+VcCu4mTN/O51W3J50RkQEOOuPlG4FD/XO+msVt4IXW876q0W3gpe7zvrrdU/R54YqFI2YFzBY/8Tk/mak0u4EeKT0q04lwAXWq9el06KfWT3DvC/SY8w0WyDAE24OKBqPMzTeakDY3uxB8KzlfhzOf7sN52R3wxNnsLvlLMTnzNHWpr+ObAJ6swnozQ9s99GUZLQWCQAAAABJRU5ErkJggg==" y="727.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="10" x="318" y="802.7324">[]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="325" y="818.5576"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="325" y="834.8545"/><!--MD5=[d540a58f417b2e912ee97295a9ce2306]
entity cf--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="130.5625" style="stroke:#FF9900;stroke-width:1.5;" width="129" x="258.5" y="456"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="80" x="283" y="477.1387">«CloudFront»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="109" x="268.5" y="494.8203">Distribution</text><image height="64" width="64" x="291" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAEKUlEQVR4Xu1aPavVQBD1J/sH/AOWNhbbeuuL5WtsbimW8rSweKAgPAsRAxZCPOwhw7ydZGY2NxIuJBwu+ZjdzDkzs7tJ7rPy4vNN45k9dVs4COyNg8DeOAjsjYPA3vgvBE4vv5xfP9y9+Xp5+x3ADg5x0lpej80IwD/4+vDp9/Dr77iw4RIMYLYhmQ0IQN379z8bX3Hmw7sfjAB2cNhwwxk0tL314ioCEFJch3N0lIdwF1dfPf8ooH3DFvtXRmM9AUhLRfGLfTkPFx+//cF58IHfOGQcqDfc5VXZmua9WElAVISX9mqp9PCLq9pXtMJJBIeVAEpiwEsrsIYAbj9W5ZwkhvYYfGjGCDBcVmx0wkvo1vYTopsAvUcahLlLS9BgDcBRNrSWklcrOPQRYOZkvAfok7aE0oC1LIpDby51EED0mRKh9zQgWykSNnc0RqulNHOQJSC9O3mvLTk+jnVj1XLfb840y2gkyBJo5FyC8GQmyJBKt1APtkkDjkv5REoREGHspQazeYzmFJ4DTpghyVATKQKUP7wxzZwsT2YIqyUZhJgAUzmUX0Z937lkKjIIfldETIB6+LfktJXJcpHDd46VEMa8ZAhwAJnNSDjBBdylZ4VM53xFmGxONgpiAkOdfax/lHyctsFdWWhkcpKjmW9DBAR4MyjB9bA+T+8h5HlaIc8uE2bhRFVgJ/JZBARkAQNHcVfscB3BkoXfQizjkyBTVxQl7DAgQEeb7VyX+GMtMhLAL+8He9ALZWNg/YixVMJRISAgCxh5MKdzEhk5lIGPobiPnhjDDBGN7CWNFAFRWoOSw29ZLDAl8CvFDTJLNCRi9hKxDQGm0FKyiq9DfSBuGjbEGoT+bZNCUqz2UqmpX6bF8ywu04OYfYTwey6JEBEBAafamO6OhNqMUdLehFMVWznqEAGB4k5kvoQazIcmZ5zx6rTVRFaWB/gwiWftWQ+c+7gGsZY08OMjiAnoG2skJxoNGks0uNnyEJslehoxAZaBjeZSZHxQWtYD9mXSaMxkVrE9NIgJlIUHmmSRNZCxRSYWW2OMuWU1ixQBkU2fXBcBm3h2Sqb8yZ5TBMrck1RynG5AdaU6eaiHaWZ/Uv6SJ8BxTQuTr7MGlHxQaxBRQUKdz8wsgTKpxd7l1WdeKsGpvpSnHOAgiohGXaJ0ECjq1WJxJ+kkOJFd6jeosvBKJkQfgfL05a6tvyTgMReqzJnH+pw05mauBt0EiuLAna6I6x7gPVJRKmGF92UdgTLlktzYPi04kNw71Zca7KQ3cwQrCRS1VB57ggCqdBoEVjS3WE+gTOMJnRjqM805+h589/RlzEP9FmjN8riKAHF++uFxqB+D76PPrCxi21svNiBAcEBsvGw2crv0vMYLsRkBjdMt/tVgLxwE9sZBYG8cBPbGQWBv3DyBf+4G60wvj2KhAAAAAElFTkSuQmCC" y="498.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="10" x="318" y="573.7324">[]</text><!--MD5=[a307c7bb61b05e54d6d901984a93748f]
entity cf_public_key--><rect fill="#FEFECE" filter="url(#f1weawhsmhc0jm)" height="36.2969" style="stroke:#A80036;stroke-width:1.5;" width="177" x="23.5" y="295.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="33.5" y="318.4951">CloudFront public key</text><!--MD5=[91b46a05b88b4327b6953e04a7db7d80]
entity cf_key_group--><rect fill="#FEFECE" filter="url(#f1weawhsmhc0jm)" height="36.2969" style="stroke:#A80036;stroke-width:1.5;" width="175" x="235.5" y="295.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="245.5" y="318.4951">CloudFront key group</text><!--MD5=[f4528ec87230e0e089332dc353ab5e53]
entity ssm--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="130.5625" style="stroke:#FF9900;stroke-width:1.5;" width="231" x="467.5" y="248"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="211" x="477.5" y="269.1387">«SystemsManagerParameterStore»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="98" x="534" y="286.8203">Parameter</text><image height="64" width="64" x="551" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAADU0lEQVR4Xu2ZvYrcMBDH74HzBnmDe4Kr06RKe6lTpEsXSGc4BxcLC4EsbBEwKIP/eFan0cdYGn9scsOfY2+tlfSTNKOR/ODu3B7CL4SNv69WCqu2sALA6elz//6Dof78PIdttFkO4PzxCzXZvXuS/agQ1UMaHj+FzbRZEuD6/YWbvHz90S6aTFRI4xI21mBxAFqvGLPebtKpThoLMNDohI9rLQ7Ao/Xr+Vv4rMGo3zwuVj4dAaDpRu8JI3zWbDQitpWHALRgzAcpMJ5eGqnw2XILAXiZmtQeNVsHewVA8QG9tw0U0tgZ2qPqDYDjZjf5royDhqL6eWdojBM3AF48kNyJbOW31eJsNwDsu9uLBs4GwJnmbXr5HaiwMArdnb1yYlpFJIrTm4mas3Ti3i731MvMiRGF+smrthF6bwlANZ6MUhSN8W5wrwC0o70B/FcAlDnKrEajsKLZLhsDcNTDB41QOHWA3BRgnJP4pQBd+gS8AwCJ9s4gmUnpMh9NjwWg3/nJZ/5xAN7IWg6WlQBYIVFRAXSoCEAFkD7uMAO4vEiJy+QBAkM6zCmqclpWAUDs1wNQgWFOJVnddLdQnJxKAHyTEgooAfiGwgfgf4fSgbMeoGgaAMwkivnj7c9JqkuwSgD6F/4XFXqsAThlL2HBkK+hEiDvA0onRp1d+p6UW0kVcNUA43RXnpLSia/zVVqqgPNeEYUPZqsE0FgRgHfiTMTEZtenb5oPAZDqnFsPwGQJ7Qlg4sR7Aoy1YZQ+c9bkx1CZU2XK+D5TCaAxCYBveKLwFPIn0FdQBn8H763CpgAcNxvVe1F1RQAZ5hmJlsEoMiiN5LawDAD0MuxExQtAAqTcumjn+SUGf7MMYKkArASgpxhg6klqnusB3BT1zgsv3xGUuIYMAA8Qr/JoT5oA2i0DgJ5103tLxpApxnEB0PowxUd4fz+f7Hw7LsBpDi/+5iWLHRdAbhGYjcCOC+C81Ai9lw7gigD4pUxIGjWqj/lI3bqY+8LKAF06LamWch9wiiNODoCfmYt7UwRomgE37SZriOsvAmAG+nT2XwBY24oARXsDaDMGoGBNy71CiDS7AVxj16CLxL/lOjcFGKe7DNmtpfIz3E0BYDJMLZVf2w4AtvYXi3tYIHBK4cwAAAAASUVORK5CYII=" y="290.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="10" x="578" y="365.7324">[]</text><!--MD5=[248c776fe0dac8bb54ccca919197bcd7]
entity signer--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="130.5625" style="stroke:#FF9900;stroke-width:1.5;" width="185" x="615.5" y="42"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="165" x="625.5" y="63.1387">«LambdaLambdaFunction»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="140" x="638" y="80.8203">Signer function</text><image height="64" width="64" x="676" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAEPklEQVR4XtVau47bMBC8b88f5BPyAwHSpb3UKdKlTeqDAMOAgcMBBrPRKuPVvriipUM8YGGZ5HJn9mHZ1lN7cDzpN/bD9XLC0HP7YTcC5OXr7x/n719O3z7RmL5+VIPfpwW0bEdK9xJ4e/l1+flMnr18/mCdjgYtpi20kbZrixsxToCEdP2G0uQfRhQZZkKmtPUyRgiw666c3dygBW7QhmlsI0BnKxXvSQNmIq2R8a3WNhBQh9FlV+8KyIi1rBfFqBKgJMYB9HoX1yXIoDpCrwjQJ0CmZdogxKjL7qizJeM4qLixQ4BMuBblSd1Rl7MZvbocMgLSe+UECJzmjhmNuh8K9b0hAamElRAE8qaBZZvqkgEOeS6FBLDfet/KBAhQIXEiQu4DwyeAvkbH67kZdQL08TQchCb4R9sdArJAI9nqBAiwpicKkHXonuUQAGl3A2MTAQRh7GZBNgw9ZwngsCTtmjB6nm+P5dBLZyQeVIBisPY1AV43xcnDkGmmhsscRWU9qEAmkppaEagXnLRohyWP9cNBiCRYEdja8q7iS+N1/kbG213+SINK2VhEEtwI3POhAyQSRB7UgSBICW4E3OmtODQIrsQ3AizesDwAnzGZamvr3qXnarBOLgQQX1e5LrgG+HVUbYwkxyqAcWxfCCD0A8EFeezlSzeYbhrUge1QZyGA7BwQRt428jvHBQFiIQkXAja3ioBF/omBg5A3nLzQu1CurggM1BbEVsLkDQdB0BMFsGVNQB1fhFQaPm0KgptjOSANX/4lMNyCZK7b7MyDwFPwow7ViO4ioJxQ1Zl3/bzQE+xGwHpgPU4aTp5jCXYjwFumdQ6MBcHNsQgOgba9iKNWaD3ePQhOEbftbZRNwIqE8jiiysgL3YXfRvnUohK5T3Y26fo2Yl0oVxcCUMIG2iLJiuYVd971c2sKyDoQXgjUb+aswAo8O631dt9kbApCeDNXb0S5YJHYNiwSsHkSv2nrRTNUC2og0ExuueiqxbOTUTpvOKAth5sL1skbgUpXLsrvhjG3f5n/CDzP/znIG1sJyCft3wi40xJd+XN6eRAAnGIJuBLcCLSeB3mnyuVnVLp+RCDivyKQOHGn/AzbBC0iAlEbWBFo8U+LuXjd9APyMLaAAJhPpj1oAgiCFKmrXEV+RjeSLgHQtl1YE2jCG5jA/rP5LZoGqc59I/JJAfZpo7VmQw1KbvU7BLBh+qcoLvPRlZ8h7SeDCcjkcbPXIdBExTBpaJaMovyMikGWQ4ZLW5nhE2jrtGmzEvnQ+3uwFqw15YOLkMBV/M0asT8U8P409jdrW+dfosERgPfIpQgZgbbmkCuxF2Tku963LoFmLLqtYC/IBlXUq0+AIWN6fpfHbYpHVAk00Vt5XB7rgSfG20M/cga8Pu5DfxJM4yEfu5Rw5eyO/+LBV4Xrgz56nOBq7m2OwIEE3gd/ANyG8Rv9wufLAAAAAElFTkSuQmCC" y="84.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="10" x="703" y="159.7324">[]</text><!--MD5=[ccca32b12fb5fa68a3a37ddbcc032510]
entity apigw--><rect fill="#FFFFFF" filter="url(#f1weawhsmhc0jm)" height="130.5625" style="stroke:#FF9900;stroke-width:1.5;" width="113" x="467.5" y="42"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="93" x="477.5" y="63.1387">«APIGateway2»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="29" x="509.5" y="80.8203">API</text><image height="64" width="64" x="492" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAACXklEQVR4Xu2ZMUvEMBTH7yP7BfwCji4OWXUujre43CgdRR0cDhQEHUQUHITzT/7cIyQ1bdPWvJwpfw6SJi/v16QvL72VOb4vWquwqixVgNyqALlVAXKrAuTWvwdozrbt1evFyUN4Ky50QUd0D2+NUjoAxr69ftvZC66EDeJCF/aFkSkYKQCu69MBeCVjjAPAGNu7Dw75+f69uXxenz9OAUB3GIEp2oTxsRhDAULXUXl6dDMdAEZQTMboB3Bdf3n6ouui6QBuJYxjiFEYPQD0j657g7kN5gKgUCkYnQ1c9QDgkcT9WwLAbeBNeKhBABErywH0Dk3NBsB3caDQWBcAozj3Y/yiEuosGhsVZCfRAsALbklgpXMoopJFzhIwpD3bhDYHDk3NA4CQ1+4zIiY5YVFiIosMzVoAin8HDiEKhbcoLKHODbUYADoKC94a0wuAGoRIKTIpaOy5x3VXKQDb02NjQ/7O5lESTMWURgDuTciKxS16yRiFSibMnB91APKM1/sU3zjrxziHB9aoAzDODHjrhy1RVD0DfOp0Cxc3YPb1EgqjfCNDYz5jrh/J4VDp2tELQHnrJ5R2gN6O2gGMnYTIF7sCAOJSB1B2Ol38gYZXU+6RsvhDffHvwCFEofBWXH8N8NsKWQgAw80JwK/qndvqEgAYaLP/zj4VQJJ4XgjeHsmMAPRb/ovYOUeLiHoAKEa9ThKG+WQABt/Q73bwH5iDAESNPQq6JJzoZAD5I2Os36JxACKPJBkg2W9RIoCIJJ3vd1zMkZL9Fk0FyK4KkFsVILcqQG5VgNyqALn1A6QZxl/R/TsfAAAAAElFTkSuQmCC" y="84.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="10" x="519" y="159.7324">[]</text><!--MD5=[7d4ce1de4f1d0801286e76de17e204a0]
entity key--><rect fill="#FEFECE" filter="url(#f1weawhsmhc0jm)" height="36.2969" style="stroke:#A80036;stroke-width:1.5;" width="76" x="279" y="89.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="289" y="112.4951">TLS key</text><!--MD5=[0900a1bc3b25a4c8f229455921c981a7]
link bucket to secret_txt--><path d="M230.562,766.5 C240.607,766.5 250.652,766.5 260.696,766.5 " fill="none" id="bucket-to-secret_txt" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="265.949,766.5,256.949,762.5,260.949,766.5,256.949,770.5,265.949,766.5" style="stroke:#666666;stroke-width:1.0;"/><!--MD5=[348be8587502cc972e2af4875e1464e4]
link key to ssm--><path d="M339.221,125.542 C373.113,151.534 439.583,202.511 494.564,244.677 " fill="none" id="key-to-ssm" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="498.837,247.954,494.1287,239.3035,494.8691,244.9117,489.2609,245.6521,498.837,247.954" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="459" y="215.1387">private key</text><!--MD5=[a5012391b87331087efe531f6a994c50]
link key to cf_public_key--><path d="M299.874,125.542 C262.492,162.742 173.682,251.118 133.004,291.598 " fill="none" id="key-to-cf_public_key" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="129.221,295.363,138.4219,291.8498,132.7651,291.836,132.7788,286.1792,129.221,295.363" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="222" y="215.1387">public key</text><!--MD5=[86f24b902ed54cbab41eba69e1530fab]
link cf_public_key to cf_key_group--><path d="M200.604,313.5 C210.375,313.5 220.146,313.5 229.918,313.5 " fill="none" id="cf_public_key-to-cf_key_group" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="235.028,313.5,226.028,309.5,230.028,313.5,226.028,317.5,235.028,313.5" style="stroke:#666666;stroke-width:1.0;"/><!--MD5=[c590b09f734e86a67f9e4f6aa9c98311]
link cf_key_group to cf--><path d="M323,331.709 C323,357.634 323,408.174 323,450.442 " fill="none" id="cf_key_group-to-cf" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="323,455.553,327,446.553,323,450.553,319,446.553,323,455.553" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="324" y="423.1387">trusted key group</text><!--MD5=[3f414ce876ffcf3dbcd4ff2e0b157d2c]
link cf to secret_txt--><path d="M323,587.3 C323,615.61 323,649.213 323,679.568 " fill="none" id="cf-to-secret_txt" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="323,684.801,327,675.801,323,679.801,319,675.801,323,684.801" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="324" y="631.1387">read via OAI</text><!--MD5=[3e944aced202d34819049995f2b37642]
link apigw to signer--><path d="M580.781,107.5 C590.514,107.5 600.248,107.5 609.981,107.5 " fill="none" id="apigw-to-signer" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="615.071,107.5,606.071,103.5,610.071,107.5,606.071,111.5,615.071,107.5" style="stroke:#666666;stroke-width:1.0;"/><!--MD5=[0199a5e57931a50d1f3a55b06e24f02a]
link signer to ssm--><path d="M668.449,173.047 C654.77,195.371 639.387,220.476 625.483,243.168 " fill="none" id="signer-to-ssm" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="622.723,247.673,630.8366,242.09,625.3359,243.4101,624.0159,237.9094,622.723,247.673" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="650" y="215.1387">read access</text><!--MD5=[7523b335d385b6f7aa1d2120e6156b15]
link signer to cf--><path d="M731.924,173.19 C751.571,238.707 768.493,339.221 716,403 C674.89,452.949 494.188,491.182 392.737,509.171 " fill="none" id="signer-to-cf" style="stroke:#666666;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#666666" points="387.668,510.064,397.226,512.4399,392.592,509.1955,395.8364,504.5615,387.668,510.064" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="752" y="318.1387">redirect</text><!--MD5=[c23f955547d7bd8ff04dbb2aa88d6711]
@startuml
!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v7.0/dist
!includeurl AWSPuml/AWSCommon.puml
!includeurl AWSPuml/Storage/S3BucketwithObjects.puml
!includeurl AWSPuml/Storage/S3Object.puml
!includeurl AWSPuml/NetworkingAndContentDelivery/CloudFront.puml
!includeurl AWSPuml/ManagementAndGovernance/SystemsManagerParameterStore.puml
!includeurl AWSPuml/Compute/LambdaLambdaFunction.puml
!includeurl AWSPuml/NetworkingAndContentDelivery/APIGateway2.puml

frame "Protected content" {
S3BucketwithObjects(bucket, "Private bucket", "", "")
S3Object(secret_txt, "secret.txt", "", "")
}
frame CloudFront {
CloudFront(cf, "Distribution", "")
agent "CloudFront public key" as cf_public_key
agent "CloudFront key group" as cf_key_group
}

agent "TLS key" as key
frame Signer {
SystemsManagerParameterStore(ssm, "Parameter", "")
LambdaLambdaFunction(signer, "Signer function", "")
APIGateway2(apigw, "API", "")
}


bucket -> secret_txt

key - -> ssm: private key
key -> cf_public_key: public key
cf_public_key -> cf_key_group
cf_key_group - -> cf: trusted key group
cf - -> secret_txt: read via OAI

apigw -> signer
signer - -> ssm: read access
signer ...> cf: redirect
@enduml

@startuml




skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}









sprite $S3BucketwithObjects [64x64/16z] {
lLS7jjim32k7IEB-5-vpF22dL4ON_lI024a47F_uTv0TNzFKHcHMOKTLnd3JJxZgKLYWSjXBCKPkPKQC7H7KWdHTg1vrLd6LNvV2BcLf3JlsIuFK1d8eB7zM
Ne-pvAwXZo7oTgilLBsOQKq3A03_ZClP9WyJOF7F43EbEDYdK63yONsV3p3a2xOb0FRHm8RG3nVF4njOqB2ZsDyl_84TTLiCzxCvmqsMhYmSKdDUSW76pJse
XtlSDlY8YEIrtDgq41UTHqltSbYJgo8ngn7raIn7Exkfp3E-xMPrsQMRVEqYp8xjumP-bt9EFW-_GDmBsgg1L-6RzmdBmh-Za8qmEexycEKOSu4thk_dU5mD
-i9Qz_foFd8LjJPlkLxzUWQkE4liOB8kzil9Dw3gZ4TprTYjAVT-qPMW0jIvFdooXCroo_i5sQbvBo1Uf_CuhwGY-abswSfzOsHHHA4AABqvcBd8lpCqZf3I
hPe4do5qi5rrTnrzyjLZy074iuCB27yWUNM6yYazW7foiE46cNYgCW-n8vuwGWiWE06lMy0745arzuGU3I34TL6kDhJMlTp07WcKc_EPGxUHpq1kp9B2rkfg
SSo-lF0_DkigaPHWQz4bD4llu052gPOkQTEM9mE4SsQitwOzHGNAT8CVPm9Gph_RFcfZ9xCbx7JQ089UMJK0-LG4XFD3Mx_LXUZvN9BIrVPJrPtFy604yZn1
NiVVVR4CNpguv_SthXxf0SG3sVDPW9ZB1OYEtsyVbzMoJZ2XPwoSoiX-2LibHNpo3Y2ZcnPZAbtVlRxqvMdT2ZUHvjDdCWGNO3HNJUzlcTFhsuBA8RBGey8f
wnNKl7b_bV_n_lmzVW8
}

skinparam rectangle<<S3BucketwithObjects>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam participant<<S3BucketwithObjects>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $S3Object [64x64/16z] {
x95LmiGW38IP12BtF_2wXstdT_sUAYGZj8_Y7qW_87Z5RBV82s7zHJlKi-1AJyTnOAW88ABZk2we3N8uR8gxE6g7bR8wFdB7GFs1uv-Lscol3Uvd1LvIbcOS
pyVBxwa05dvQMy6UIrWPfq-TclT6uFDRa99ieIMPhjL6eJEZUeh5O1Efo0GxZyoeygFHZ6B0J_8SU6m0f_GizY3NsVAlSNlPHrFznYaFZT_T04xjyumxmrBY
4mL8UIEfYfslxvgu_uxvj_VtzllRjb_d10008133_BkkYAp50byEvWVc5_T7zrVl1zullPzul_L_uF_I_ud_6_sWVa4_eT_GZ-fNzxFxtVE3vnVFJrvN
}

skinparam rectangle<<S3Object>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam participant<<S3Object>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $CloudFront [64x64/16z] {
xLO93kig31ols73_-_vV54L-8YZfsvUEjkB6U0OcZljlYWy-o6ZkBVAhSbq81qZypJr2yOAQk-dSIEEDsWgGAI0v_aVFkPq-vU04yXS9XermZvuCO0OVG04x
VdgtAQEBUDZhnpq4T4eT3UHEyBaAWZn8vwohDaQ0-qGov9PyJU-CruheM2RVI71GIS-ki5TGpiZKiaKIeguq0H6KO9G2AnHMqw4z6A1M7h5LGTsyh0wj4Jtg
pHDYNzxhGYv9-vP0rl8DbDUw2Bav_FBKQ5LrriqClhFEeInDFNk5bQrZPo8wYZG2GB6JbaGR-JAEUxDGyCgjcd95W4sOiq57ILZFHgzli64Y73xwKBIiLYvy
3Etw-AL5vej7zY2aG2z9E_mwtyV1ZnYmRWH8dAJRJNux9Hg1R8OOi2Lfmx-TnXmzIo_aBFzMAXNrY5AyH0NKldID8BV-gQLEkfDwvkgVrRzLQhtxKFKx_phi
sXynspWuz-zFDRaWriRIGg3r_TttZ_Ly56tCyxdi7xNCKhyeEfevugP_hlSxExY3r_wvzk_B0-9fwLPQuVxxCTfQ8fN0iNm_LYXu6d55fhVPq- -_dnSDfaa4
c9zzW0M-HcCm8C_c1yXOtgqqG9_EB_1UCGoy1E_cfpBtDG8W-URyHbBcDucVDZ-ky-jlYWy- -0y
}

skinparam rectangle<<CloudFront>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam participant<<CloudFront>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $SystemsManagerParameterStore [64x64/16z] {
rTS5agqm44RXTFm_-z_lSoYiIU3Pp2aP_IfzSSAVoxpcU9DRdE1LE1hwc2Ve-Re6TSHDk5DQXpJm3Oe_cv3TyWmj-1LeTpoE5cYGWr-7FB5vlEfu0oVHRtOT
9TzN1CMV7ZG8m9pnDLTtVB2vmbygrTecgkxs4ve9SppguuJhrSAuej_p-JFuc4yzyXBQXT83R-BeUUPLRLj-x4lO5l-SBo9EUSk_Ad7hOwqsvQEMokBNKcsr
n5cV3pvr98bgTpxOKjZx9904wlPy-uKegFPpYdRZhIwbrUzlaHtIu-rdegsJgFdU-bBU-hGTHNfp_AqxhaZsmfld_VbzFxlzV3-__rBEkQqtwVNxEFdv8v80
jZTZeJxf4zTfwDElzSbsgkd2exvDYq_XLBtonz3EnwPUV1zoRVjg3Hjl4gWvtctrLNH1VEkxUaWel_LDoWtIMvy0wE6j3rdGuz7JivyvTv6jHtvfv_E5hxeh
3jSFTbSuh2_R-d6hN_iVlfLJdLcV13h5jBUkosgOxU-z47m5
}

skinparam rectangle<<SystemsManagerParameterStore>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam participant<<SystemsManagerParameterStore>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $LambdaLambdaFunction [64x64/16z] {
jPU7ZiGm24GNOaZ-_uUtU6szmvghretA5XY64Yluzg-m9_x8F2BpxCYCutTHlELr5bpP_AVi8w-fsvwOULnv_8mzv8p_R2JqVGJlMirLJJqdB0gjiqqRxMtz
WXvFUzZdTkiEdrfVkVipIdv43UUl6apJXydFWX0YzWazXaJ6X73clpLkp1ITV4N3GfKGdGv_8X5RVDV1vKtn3pMnv4_QQf9_Urfahxm6dB_Xay31Btoo-iH7
Mnmlp0Hm1L6YbeduClc6QwrWwH6c2Hk_HG945JEo5mWQIxE8AfuHaDycuENRYcyIG3LBU35v5uSMcgdqpMWHfQm5sCZJHNUSoUiE-GWV-eIaJA1g17Mifkjq
6YzE4SGyGvJMWzFu5ASetlmJFlAPvvh08OgKxUzr6mamJ3M0oiUtjypbAVgSZ-kWYeTOy8MyIi0Ll_QFMNsVG4oTKFA3AayHy-CngF9yItsA8FByeaeVcJmM
db_EJvMd47sCEJyCe8eWN4vHFb7QJnre5Fdo47SuvJDP9TzMUul8Q_pmOUSRyaGY0JnyLSKrX3oJXqzGVBKyau9FL-lx2o5g8YtulB_g-zEqF7d13-HvVyTy
ynxj6WJixMtfAVB-Bll32QOyTk3i3tL_oK_NjcAodexQYGpS5c0PlgkTc09YVzFxeuRU7_N-Ag7tLxq_2uZzUMD_jxtxm_xzPV_-j7z_sxy_xjzVz-_F-tW
}

skinparam rectangle<<LambdaLambdaFunction>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam participant<<LambdaLambdaFunction>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $APIGateway2 [64x64/16z] {
xTPLOlGm30JWYMD9uz7zp_ipjjg0jzpCmjjd9dsqNBb26tgGOJoiEs1w40CwZ-hQ7oc1Ax1uL3vy0LRkQsNjKmzAA7HpIQgz97cxMK80BQHjBqK3elB-7Urx
oU2rzsFUZ_ZKVycJldDeHFpw4zdFUO0PG2G1om7Wd5zjQDZFFqfcwylst_GWitxmFc_mdFJH9JNGOiexG16DW4_uZYM-CyjOq4zx0f5I0vK1SAP-YcWIP-fF
6J0CdWHiQlruLyEGki_EFz7kMdyElykBe_9lxFoQFp_cpw_vy_Fjdr_pFe_ulEcRZtq_lDMU2u3LnvOVlW9Og3BilufWvVaB6tKxj0L0gtmhSLr4uGiyyNxy
KBbovIi
}

skinparam rectangle<<APIGateway2>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam participant<<APIGateway2>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}

frame "Protected content" {
rectangle "==Private bucket\n<color:#3F8624><$S3BucketwithObjects></color>\n//<size:12>[]</size>//\n\n " <<S3BucketwithObjects>> as bucket
rectangle "==secret.txt\n<color:#3F8624><$S3Object></color>\n//<size:12>[]</size>//\n\n " <<S3Object>> as secret_txt
}
frame CloudFront {
rectangle "==Distribution\n<color:#693CC5><$CloudFront></color>\n//<size:12>[]</size>//" <<CloudFront>> as cf
agent "CloudFront public key" as cf_public_key
agent "CloudFront key group" as cf_key_group
}

agent "TLS key" as key
frame Signer {
rectangle "==Parameter\n<color:#CC2264><$SystemsManagerParameterStore></color>\n//<size:12>[]</size>//" <<SystemsManagerParameterStore>> as ssm
rectangle "==Signer function\n<color:#D86613><$LambdaLambdaFunction></color>\n//<size:12>[]</size>//" <<LambdaLambdaFunction>> as signer
rectangle "==API\n<color:#693CC5><$APIGateway2></color>\n//<size:12>[]</size>//" <<APIGateway2>> as apigw
}


bucket -> secret_txt

key - -> ssm: private key
key -> cf_public_key: public key
cf_public_key -> cf_key_group
cf_key_group - -> cf: trusted key group
cf - -> secret_txt: read via OAI

apigw -> signer
signer - -> ssm: read access
signer ...> cf: redirect
@enduml

PlantUML version 1.2021.5beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
